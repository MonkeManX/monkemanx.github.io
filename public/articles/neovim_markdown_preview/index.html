<!DOCTYPE html>
<html>
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
      <a id="top"></a>
      <meta charset="utf-8">
      <meta name="viewport" 
          content="width=device-width, initial-scale=1.0">
      <title>My site</title>
      <link rel="stylesheet" href="/styles/style.css">  

      <link rel="stylesheet" href="/css/syntax.css">
      <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  
      inlineMath: [['\\(', '\\)']]                  
    }
  };
</script>

  </head>
  <body><div class="nav-div">
  <nav>
        <a href="http://localhost:1313/" class="">Home</a>
        <a href="http://localhost:1313/articles/" class="active">Articles</a>
        <a href="http://localhost:1313/paper-summary/" class="">Paper-Summaries</a>
        <a href="http://localhost:1313/tags/" class="">Tags</a>
        <a href="http://localhost:1313/poetry/" class="">Writings</a>
        <a href="http://localhost:1313/tangled_thoughts/" class="">Tangled-Thoughts</a>
        <a href="http://localhost:1313/media/" class="">Media</a>
        <a href="http://localhost:1313/links/" class="">Links</a>
        <a href="http://localhost:1313/about/" class="">About</a>
  </nav>
</div>
<div id="content">
<div class="article-content"> 
  <h1> Neovim Markdown Preview: Command not working </h1>
  <p class="pub-date">Published: August 20, 2024</p>
  
  
<style>
    .info {
        background-color: #e6f7ff;  
        padding: 15px;  
        border-radius: 5px;  
        margin-bottom: 15px;  
    }

    .info-title {
        font-size: 20px;  
        margin-bottom: 10px;  
        color: #000080;  
        font-weight: bold;  
    }
</style>

<div class="info">
    <div class="info-title">Info</div>
    <p>This post isn&rsquo;t meant as an introduction to any of the topics discussed below. Instead, it&rsquo;s a brief guide on how to make the Markdown-Preview plugin work.</p>
</div>


<h2 id="background">Background</h2>
<p>(Neo)vim is, for the most part, the only editor I use for all my needs -— whether it&rsquo;s programming, editing configuration files, or taking notes. I write all of my notes in Markdown for several reasons: it&rsquo;s widely compatible, has easy-to-understand syntax, is very readable even without rendering, and, through various flavors, allows for additional functionality.</p>
<p>Even though Markdown is quite readable in plain text, it&rsquo;s helpful to render it for features like images and LaTeX. To do this, I use the Neovim plugin <a href="https://github.com/iamcco/markdown-preview.nvim">Markdown Preview</a>.</p>


<video style="display: block; margin-left: auto; margin-right: auto; width:70%" controls muted>
    <source src="/attachments/Markown_preview.mp4" type="video/mp4">
    Your Browser does not support this embedded video.
</video>


<h2 id="installation">Installation</h2>
<p>If you&rsquo;re using the Lazy plugin manager, you can install the Markdown Preview plugin by opening your Neovim configuration (in Lunarvim with <space> + L + c) and adding the following to the list of plugins:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-lua" data-lang="lua"><span class="line"><span class="ln"> 1</span><span class="cl"> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">    <span class="s2">&#34;iamcco/markdown-preview.nvim&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">    <span class="n">ft</span> <span class="o">=</span> <span class="s2">&#34;markdown&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">    <span class="n">build</span> <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">        <span class="n">vim.fn</span><span class="p">[</span><span class="s2">&#34;mkdp#util#install&#34;</span><span class="p">]()</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">    <span class="kr">end</span><span class="p">,</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">    <span class="n">config</span> <span class="o">=</span> <span class="kr">function</span><span class="p">()</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">      <span class="n">vim.cmd</span><span class="p">(</span><span class="s">[[do FileType]]</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">      <span class="n">vim.cmd</span><span class="p">(</span><span class="s">[[
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="s">         function OpenMarkdownPreview (url)
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="s">            let cmd = &#34;firefox -P &#39;Clean&#39; --new-window &#34; . shellescape(a:url) . &#34; &amp;&#34;
</span></span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="s">            silent call system(cmd)
</span></span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="s">         endfunction
</span></span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="s">      ]]</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">      <span class="n">vim.g</span><span class="p">.</span><span class="n">mkdp_browserfunc</span> <span class="o">=</span> <span class="s2">&#34;OpenMarkdownPreview&#34;</span>
</span></span><span class="line"><span class="ln">16</span><span class="cl">      <span class="n">vim.g</span><span class="p">.</span><span class="n">mkdp_theme</span> <span class="o">=</span> <span class="s2">&#34;dark&#34;</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">    <span class="kr">end</span><span class="p">,</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl">  <span class="p">},</span>
</span></span></code></pre></div><p>In the <code>OpenMarkdownPreview</code> function, make sure to replace <code>firefox</code> with the name of the browser you use. If you don&rsquo;t have a browser profile named clean, you should also remove the <code>-P 'Clean'</code> option.</p>
<p>After restarting Neovim, the plugin should install automatically. If not, type <code>:Lazy</code>, press <code>S</code> to sync, and then <code>I</code> to install the plugin. You can now use the command <code>:MarkdownPreview</code> when inside a Markdown file, and your browser should open with the rendered Markdown file. If you&rsquo;re interested in further configuring the plugin, check out its <a href="https://github.com/iamcco/markdown-preview.nvim">GitHub repository</a>.</p>
<h2 id="command-not-working">Command not Working</h2>
<p>If you run the command and nothing happens &ndash; no error message and your browser doesn’t open—try typing <code>:messages</code> to see if there’s an error. If you see something like <code>Error: Cannot find module 'tslib'</code>, follow these steps to fix it:</p>
<ol>
<li>Check your message log for a file path similar to <code>/lvim/lazy/markdown-preview.nvim/app/lib/app/</code> (your path might differ).</li>
<li>Go to where the plugin is installed:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">cd ~/lvim/lazy/markdown-preview.nvim/app/lib/app/
</span></span></code></pre></div><ol start="3">
<li>Install the necessary dependencies:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="ln">1</span><span class="cl">npm install
</span></span></code></pre></div><ol start="4">
<li>Restart neovim, it should work now.</li>
</ol>
<hr>
<p>References:</p>
<ul>
<li><a href="https://github.com/iamcco/markdown-preview.nvim/issues/148">https://github.com/iamcco/markdown-preview.nvim/issues/148</a></li>
<li><a href="https://www.reddit.com/r/neovim/comments/1b1kw8d/help_configuring_markdownpreviewnvim_with_custom/">https://www.reddit.com/r/neovim/comments/1b1kw8d/help_configuring_markdownpreviewnvim_with_custom/</a></li>
</ul>
 
</div>
<a href="#top" class="back-to-top-button">
  &#9650; 
</a>

    </div><div class="footer">
  Made with <a href="https://gohugo.io/">Hugo</a>, website licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>.
</div>
</body>
</html>
